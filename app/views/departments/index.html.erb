<h1>Departments List</h1>

<!-- app/views/departments/index.html.erb -->
<% if user_signed_in? %>
  <!-- display departments list -->

  <p id="notice"><%= notice %></p>
<%= link_to "New Department", new_department_path %>
<p></p>
<div class="instruct"> Note: You cannot delete a department that has employees in it. </div>
  <div class="table-wrapper">
    <table class="fl-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th colspan="3">Edit Operations </th>
        </tr>
      </thead>

      <tbody>
        <% @departments.order(:name).each do |department| %>
          <tr>
            <td><%= department.id %></td>
            <td><%= department.name %></td>
            <td><%= link_to 'Show', department %></td>
            <td><%= link_to 'Edit', edit_department_path(department) %></td>
            <td><%= link_to 'Delete', department, method: :delete, data: { confirm: 'Are you sure? This cannot be undone!' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

<% else %>
  <p>Please sign in to view this page.</p>
  <%= link_to 'Back to Home Page', employees_path %>
<% end %>
